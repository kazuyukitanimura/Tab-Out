div#index(data-role='page')
  h1= title

  div(data-role='content')
    table
      tr
        td.legend
          a(href='#signup', data-rel='dialog') Sign Up
        td.legend
          a(href='#signdown', data-rel='dialog') Delete Account
        td.legend
          a(href='#login', data-rel='dialog') Log In
        td.legend
          a(href='#logout', data-rel='dialog') Log Out
        td.legend
          a(href='#chpw', data-rel='dialog') Change Password
    
    p In a day trip, suppose
    
    p #{users[0].username} spent $#{expenses[0]/100} for Dinner
    p #{users[1].username} spent $#{expenses[1]/100} for Lunch
    p #{users[2].username} spent $#{expenses[2]/100} for Beer
    p #{users[3].username} spent $#{expenses[3]/100} for Gas
    br
    p Total expense $#{total/100}
    br
    p Who owes who for how much??
    br
    p Naive Solution 
      i
        small (split the each bill by the number of people)
    table
      tr
        td.legend
        td.legend #{users[0].username}
        td.legend #{users[1].username}
        td.legend #{users[2].username}
        td.legend #{users[3].username}
      tr
        td #{users[0].username} owes
        td $#{naive[users[0].user_id][users[0].user_id]/100}
        td $#{naive[users[0].user_id][users[1].user_id]/100}
        td $#{naive[users[0].user_id][users[2].user_id]/100}
        td $#{naive[users[0].user_id][users[3].user_id]/100}
      tr
        td #{users[1].username} owes
        td $#{naive[users[1].user_id][users[0].user_id]/100}
        td $#{naive[users[1].user_id][users[1].user_id]/100}
        td $#{naive[users[1].user_id][users[2].user_id]/100}
        td $#{naive[users[1].user_id][users[3].user_id]/100}
      tr
        td #{users[2].username} owes
        td $#{naive[users[2].user_id][users[0].user_id]/100}
        td $#{naive[users[2].user_id][users[1].user_id]/100}
        td $#{naive[users[2].user_id][users[2].user_id]/100}
        td $#{naive[users[2].user_id][users[3].user_id]/100}
      tr
        td #{users[3].username} owes
        td $#{naive[users[3].user_id][users[0].user_id]/100}
        td $#{naive[users[3].user_id][users[1].user_id]/100}
        td $#{naive[users[3].user_id][users[2].user_id]/100}
        td $#{naive[users[3].user_id][users[3].user_id]/100}
    br
    p 
      b TabThat Solution 
        i
          small (minimize the number of transaction)
    table
      tr
        td.legend
        td.legend #{users[0].username}
        td.legend #{users[1].username}
        td.legend #{users[2].username}
        td.legend #{users[3].username}
      tr
        td #{users[0].username} owes
        td $#{opt[users[0].user_id][users[0].user_id]/100}
        td $#{opt[users[0].user_id][users[1].user_id]/100}
        td $#{opt[users[0].user_id][users[2].user_id]/100}
        td $#{opt[users[0].user_id][users[3].user_id]/100}
      tr
        td #{users[1].username} owes
        td $#{opt[users[1].user_id][users[0].user_id]/100}
        td $#{opt[users[1].user_id][users[1].user_id]/100}
        td $#{opt[users[1].user_id][users[2].user_id]/100}
        td $#{opt[users[1].user_id][users[3].user_id]/100}
      tr
        td #{users[2].username} owes
        td $#{opt[users[2].user_id][users[0].user_id]/100}
        td $#{opt[users[2].user_id][users[1].user_id]/100}
        td $#{opt[users[2].user_id][users[2].user_id]/100}
        td $#{opt[users[2].user_id][users[3].user_id]/100}
      tr
        td #{users[3].username} owes
        td $#{opt[users[3].user_id][users[0].user_id]/100}
        td $#{opt[users[3].user_id][users[1].user_id]/100}
        td $#{opt[users[3].user_id][users[2].user_id]/100}
        td $#{opt[users[3].user_id][users[3].user_id]/100}

    p  &copy; 2011 asuka

    - if (!everyauth.loggedIn)
      h1 UNKO
    - else
      h1 NO UNKO

div#signup(data-role='page')
  div(data-role='header', data-theme='c')
    h1 Sign Up

  div(data-role='content', data-theme='c')
    div(data-role='fieldcontain')
      label(for='username') User Name 
      input.username(type='text')
    div(data-role='fieldcontain')
      label(for='password') Pass Word
      input.password(type='text')
    div(data-role='fieldcontain')
      label(for='first_name') First Name 
      input.first_name(type='text')
    div(data-role='fieldcontain')
      label(for='last_name') Last Name 
      input.last_name(type='text')
    div(data-role='fieldcontain')
      label(for='twitter_username') Twitter Name 
      input.twitter_username(type='text')
    div(data-role='fieldcontain')
      label(for='email') Email 
      input.email(type='text')
    input.submit( type='submit',value='Submit',data-inline='true')

div#signdown(data-role='page')
  div(data-role='header', data-theme='c')
    h1 Delete Account

  div(data-role='content', data-theme='c')
    div(data-role='fieldcontain')
      label(for='password') Pass Word
      input.password(type='text')
    input.submit( type='submit',value='Submit',data-inline='true')

div#login(data-role='page')
  div(data-role='header', data-theme='c')
    h1 Log In

  div(data-role='content', data-theme='c')
    div(data-role='fieldcontain')
      label(for='username') User Name 
      input.username(type='text')
    div(data-role='fieldcontain')
      label(for='password') Pass Word
      input.password(type='text')
    input.submit( type='submit',value='Submit',data-inline='true')

div#logout(data-role='page')
  div(data-role='header', data-theme='c')
    h1 Log Out

  div(data-role='content', data-theme='c')
    input( type='submit',value='Submit',data-inline='true')
    input( type='button',value='Cancel',data-inline='true')

div#chpw(data-role='page')
  div(data-role='header', data-theme='c')
    h1 Change Password

  div(data-role='content', data-theme='c')
    div(data-role='fieldcontain')
      label(for='password') Old Pass Word
      input.password(type='text')
    div(data-role='fieldcontain')
      label(for='new_password') New Pass Word
      input.new_password(type='text')
    div(data-role='fieldcontain')
      label(for='new_password2') New Pass Word (confirm)
      input.new_password2(type='text')
    input.submit( type='submit',value='Submit',data-inline='true')
